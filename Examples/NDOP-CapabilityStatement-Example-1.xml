<?xml version="1.0" encoding="UTF-8"?>
<CapabilityStatement xmlns="http://hl7.org/fhir">
	<url value="https://fhir.nhs.uk/STU3/StructureDefinition/NDOP-CapabilityStatement-1"/>
	<version value="1.0.0"/>
	<name value="NDOP-CapabilityStatement-1"/>
	<status value="draft"/>
	<date value="2017-11-02"/>
	<publisher value="NHS Digital"/>
	<contact >
		<name value="Interoperability Team"/>
		<telecom>
			<system value="email"/>
			<value value="interoperabilityteam@nhs.net"/>
			<use value="work"/>
		</telecom>
	</contact>
	<copyright value="Â© 2017 NHS Digital"/>
	<kind value="requirements"/>
	<fhirVersion value="3.0.1"/>
	<acceptUnknown value="no"/>
	<format value="application/xml+fhir"/>
	<format value="application/json+fhir"/>
	<rest>
		<mode value="server"/>
		<resource>
			<type value="Consent"/>
			<profile>
				<reference value="https://fhir.nhs.uk/STU3/StructureDefinition/NDOP-Consent-1"/>
			</profile>
			<interaction>
				<extension url="http://hl7.org/fhir/StructureDefinition/conformance-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<code value="create"/>
				<documentation value="Allows creation of a consent record for NDOP"/>
			</interaction>
			<interaction>
				<extension url="http://hl7.org/fhir/StructureDefinition/conformance-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<code value="vread"/>
				<documentation value="Allows a version read of a specific patients historic record by vid"/>
			</interaction>
			<interaction>
				<extension url="http://hl7.org/fhir/StructureDefinition/conformance-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<code value="update"/>
				<documentation value="Allows the update to a patient consent record by id"/>
			</interaction>
			<interaction>
				<extension url="http://hl7.org/fhir/StructureDefinition/conformance-expectation">
					<valueCode value="SHALL"/>
				</extension>
				<code value="history-instance"/>
				<documentation value="Retrieve the change history for a particular resource."/>
			</interaction>
			<versioning value="versioned"/>			
			<readHistory value="true"/>
			<updateCreate value="false"/>
			<searchParam>
				<name value="patient"/>
				<definition value="http://hl7.org/fhir/SearchParameter/Consent.patient"/>
				<type value="reference"/>
			</searchParam>
			<searchParam>
				<name value="status"/>
				<definition value="http://hl7.org/fhir/SearchParameter/Consent.status"/>
				<type value="string"/>
				<documentation value="Allows the retrieval of a patients consent record by NDOP category type"/>
			</searchParam>
			<searchParam>
				<name value="policy"/>
				<definition value="http://hl7.org/fhir/SearchParameter/Consent.policy"/>
				<type value="uri"/>
			</searchParam>
		</resource>
	</rest>
</CapabilityStatement>
